{% extends "students/base.html" %}

{% load static from staticfiles %}

{% block meta_title %}Іспити{% endblock meta_title %}

{% block title %}Іспити{% endblock title %}
{% block content %}
  	       <!-- Add Groups Button -->
  	    <a class="btn btn-primary" href="{% url "exams_add" %}" id="exam-add-form-link">Додати іспит</a>

  	    <!-- Start Groups Listing -->

  	    <table class="table table-hover table-striped">
  	    <thead>
         {% with order_by=request.GET.order_by reverse=request.GET.reverse %}
  	        <tr>
  	          <th><a href="{% url 'exams' %}?order_by=id{% if order_by == 'id' and reverse != '1' %}&amp;reverse=1{% endif %}">№
              {% if order_by == 'id' and reverse != '1' %}&uarr;
              {% elif order_by == 'id' and reverse == '1' %}&darr;
              {% endif %}
              </a></th>
  	          <th><a href="{% url 'exams' %}?order_by=subject{% if order_by == 'subject' and reverse != '1' %}&amp;reverse=1{% endif %}">Предмет
              {% if order_by == 'subject' and reverse != '1' %}&uarr;
              {% elif order_by == 'subject' and reverse == '1' %}&darr;
              {% endif %}
              </a></th>
  	          <th><a href="{% url 'exams' %}?order_by=teacher{% if order_by == 'teacher' and reverse != '1' %}&amp;reverse=1{% endif %}">Викладач
              {% if order_by == 'teacher' and reverse != '1' %}&uarr;
              {% elif order_by == 'teacher' and reverse == '1' %}&darr;
              {% endif %}
              </a></th>
              <th><a href="{% url 'exams' %}?order_by=date_time{% if order_by == 'date_time' and reverse != '1' %}&amp;reverse=1{% endif %}">Дата, час
              {% if order_by == 'date_time' and reverse != '1' %}&uarr;
              {% elif order_by == 'date_time' and reverse == '1' %}&darr;
              {% endif %}
              </a></th>
              <th><a href="{% url 'exams' %}?order_by=group{% if order_by == 'group' and reverse != '1' %}&amp;reverse=1{% endif %}">Група
              {% if order_by == 'group' and reverse != '1' %}&uarr;
              {% elif order_by == 'group' and reverse == '1' %}&darr;
              {% endif %}
              </a></th>     
  	          <th>Дії</th>
  	        </tr>
            {% endwith %}
  	      </thead>
  	      <tbody>
           {% for exam in exams %}
  	       <tr>
  	          <td>{{ forloop.counter0|add:exams.start_index}}</td>
  	          <td><a title="Редагувати" href="#">{{ exam.subject }}</a></td>
  	          <td><a title="Редагувати" href="#">{{ exam.teacher }}</a></td>
              <td><a title="Редагувати" href="#">{{ exam.date_time }}</a></td>
              <td><a title="Редагувати" href="#">{{ exam.group }}</a></td>
  	          <td>
  	          	<div class="dropdown">
  				      <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">Дія
                <span class="caret"></span>
                  </button>

  				<ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
    			<li role="presentation"><a href="{% url "exams_edit" exam.id %} " class="exam-edit-form-link">Редагувати</a></li>
    			<li>
    			<a role="menuitem" tabindex="-1" href="{% url "exams_delete" exam.id %}" class="exam-delete-form-link">Видалити</a></li>
  				</ul>
				</div>
  	          </td>
  	       </tr>
  	       {% endfor %}
  	      </tbody>
         
  	    </table>
         {% if exams.has_other_pages %}
       {% with order_by=request.GET.order_by reverse=request.GET.reverse %}
        <nav aria-label="Page navigation">
      <ul class="pagination">
        <li><a href="{% url 'exams' %}?page=1&amp;order_by={{ order_by }}&amp;reverse={{ reverse }}">&laquo;</a></li>
        {% for p in exams.paginator.page_range %}
        <li {% if exams.number == p %}class="active"{% endif %}>
        <a href="{% url 'exams' %}?page={{ p }}&amp;order_by={{ order_by }}&amp;reverse={{ reverse }}">{{ p }}</a></li>
        {% endfor %}

        <li><a href="{% url 'exams' %}?page={{ exams.paginator.num_pages }}&amp;order_by={{ order_by }}&amp;reverse={{ reverse }}">&raquo;</a></li>
        </ul>
        </nav>
        {% endwith %}
        {% endif %}
      


        
       {% endblock content %}
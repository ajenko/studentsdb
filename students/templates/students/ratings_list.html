{% extends "students/base.html" %}

{% load static from staticfiles %}

{% block meta_title %}Оцінки{% endblock meta_title %}

{% block title %}Оцінки{% endblock title %}
{% block content %}
  	       <!-- Add Groups Button -->
  	    <a class="btn btn-primary" href="{% url "ratings_add" %}">Додати оцінку</a>

  	    <!-- Start Groups Listing -->

  	    <table class="table table-hover table-striped">
  	    <thead>
        {% with order_by=request.GET.order_by reverse=request.GET.reverse %}
  	        <tr>
  	          <th>№</th>
  	          <th><a href="{% url 'ratings' %}?order_by=student{% if order_by == 'student' and reverse != '1' %}&amp;reverse=1{% endif %}">Студент
              {% if order_by == 'student' and reverse != '1' %}&uarr;
              {% elif order_by == 'student' and reverse == '1' %}&darr;
              {% endif %}
              </a></th>
              <th><a href="{% url 'ratings' %}?order_by=date_time{% if order_by == 'date_time' and reverse != '1' %}&amp;reverse=1{% endif %}">Дата, час
              {% if order_by == 'date_time' and reverse != '1' %}&uarr;
              {% elif order_by == 'date_time' and reverse == '1' %}&darr;
              {% endif %}
              </a></th> 
              <th><a href="{% url 'ratings' %}?order_by=subject{% if order_by == 'subject' and reverse != '1' %}&amp;reverse=1{% endif %}">Предмет
              {% if order_by == 'subject' and reverse != '1' %}&uarr;
              {% elif order_by == 'subject' and reverse == '1' %}&darr;
              {% endif %}
              </a></th>
              <th><a href="{% url 'ratings' %}?order_by=teacher{% if order_by == 'teacher' and reverse != '1' %}&amp;reverse=1{% endif %}">Викладач
              {% if order_by == 'teacher' and reverse != '1' %}&uarr;
              {% elif order_by == 'teacher' and reverse == '1' %}&darr;
              {% endif %}
              </a></th>
              <th><a href="{% url 'ratings' %}?order_by=mark{% if order_by == 'mark' and reverse != '1' %}&amp;reverse=1{% endif %}">Оцінка
              {% if order_by == 'mark' and reverse != '1' %}&uarr;
              {% elif order_by == 'mark' and reverse == '1' %}&darr;
              {% endif %}
              </a></th>        
  	          <th>Дії</th>
  	        </tr>
            {% endwith %}
  	      </thead>
  	      <tbody>
           {% for rating in ratings %}
  	       <tr>
  	          <td>{{ forloop.counter }}</td>
  	          <td><a title="Редагувати" href="#">{{ rating.student }}</a></td>
  	          <td><a title="Редагувати" href="#">{{ rating.date_time }}</a></td>
              <td><a title="Редагувати" href="#">{{ rating.subject }}</a></td>
              <td><a title="Редагувати" href="#">{{ rating.teacher }}</a></td>
              <td><a title="Редагувати" href="#">{{ rating.mark }}</a></td>
  	          <td>
  	          	<div class="dropdown">
  				      <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">Дія
                <span class="caret"></span>
                  </button>

  				<ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
    			<li role="presentation"><a href="#">Редагувати</a></li>
    			<li>
    			<a role="menuitem" tabindex="-1" href="#">Видалити</a></li>
  				</ul>
				</div>
  	          </td>
  	       </tr>
  	       {% endfor %}
  	      </tbody>
         
  	    </table>
         {% if ratings.has_other_pages %}
       {% with order_by=request.GET.order_by reverse=request.GET.reverse %}
        <nav aria-label="Page navigation">
      <ul class="pagination">
        <li><a href="{% url 'ratings' %}?page=1&amp;order_by={{ order_by }}&amp;reverse={{ reverse }}">&laquo;</a></li>
        {% for p in ratings.paginator.page_range %}
        <li {% if ratings.number == p %}class="active"{% endif %}>
        <a href="{% url 'ratings' %}?page={{ p }}&amp;order_by={{ order_by }}&amp;reverse={{ reverse }}">{{ p }}</a></li>
        {% endfor %}

        <li><a href="{% url 'ratings' %}?page={{ ratings.paginator.num_pages }}&amp;order_by={{ order_by }}&amp;reverse={{ reverse }}">&raquo;</a></li>
        </ul>
        </nav>
        {% endwith %}
        {% endif %}
      

        


        
       {% endblock content %}